<%- include('../partials/header'); %>
    <%- include('../partials/navbar'); %>

    <div class="container-fluid">
        <h1 class="text-center">Bots</h1>

        <div class="container-fluid">
            <table class="table table-striped table-hover table-light">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Country</th>
                        <th scope="col">Computer Name</th>
                        <th scope="col">UUID</th>
                        <th scope="col">IP Address</th>
                        <th scope="col">Date Infection</th>
                        <th scope="col">Last Update</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (let c in clients ) { 
                        const yearUpdate = clients[c].updatedAt.getFullYear()
                        const monthUpdate = (clients[c].updatedAt.getMonth() <= 9 ? '0' : '') + (clients[c].updatedAt.getMonth() + 1)
                        const dayUpdate = (clients[c].updatedAt.getDate() <= 9 ? '0' : '') + clients[c].updatedAt.getDate()
                        const hoursUpdate = (clients[c].updatedAt.getHours() <= 9 ? '0' : '') + (clients[c].updatedAt.getHours())
                        const minutesUpdate = (clients[c].updatedAt.getMinutes() <= 9 ? '0' : '') + (clients[c].updatedAt.getMinutes()) 
                        const clientUpdateDate = yearUpdate + '-' + monthUpdate + '-' + dayUpdate + ' ' + hoursUpdate + ':' + minutesUpdate

                        const yearInfection = clients[c].createdAt.getFullYear()
                        const monthInfection = (clients[c].createdAt.getMonth() <= 9 ? '0' : '') + (clients[c].createdAt.getMonth() + 1)
                        const dayInfection = (clients[c].createdAt.getDate() <= 9 ? '0' : '') + clients[c].createdAt.getDate()
                        const hoursInfection = (clients[c].createdAt.getHours() <= 9 ? '0' : '') + (clients[c].createdAt.getHours())
                        const minutesInfection = (clients[c].createdAt.getMinutes() <= 9 ? '0' : '') + (clients[c].createdAt.getMinutes()) 
                        const clientInfectionDate = yearInfection + '-' + monthInfection + '-' + dayInfection + ' ' + hoursInfection + ':' + minutesInfection
                    %>
                        <tr data-href="/app/victims/<%= clients[c].uuid %>">
                            <th scope="row"><%= clients[c].id %></th>
                            <td>Country (Not Yet)</td>
                            <td><%= clients[c].computerName %></td>
                            <td><%= clients[c].uuid %></td>
                            <td>IP Address (Not Yet)</td>
                            <td><%= clientInfectionDate %></td>
                            <td><%= clientUpdateDate %></td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>

<%- include('../partials/footer'); %>